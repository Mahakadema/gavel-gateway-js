<!DOCTYPE html>
<html class="default">

<head>
    <meta charSet="utf-8" />
    <meta http-equiv="x-ua-compatible" content="IE=edge" />
    <title>gavel-gateway-js</title>
    <meta name="description" content="Documentation for gavel-gateway-js" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="assets/style.css" />
    <link rel="stylesheet" href="assets/highlight.css" />
    <link rel="stylesheet" href="assets/custom.css" />
</head>

<body>
    <script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script>
    <header>
        <div class="tsd-page-toolbar">
            <div class="container">
                <div class="table-wrap">
                    <div class="table-cell" id="tsd-search" data-base=".">
                        <a href="index.html" class="title">gavel-gateway-js</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="tsd-page-title">
            <div class="container">
                <h1>gavel-gateway-js: Working with Promises</h1>
            </div>
        </div>
    </header>
    <div class="container container-main">
        <div class="row">
            <div class="col-8 col-content">
                <div class="tsd-panel tsd-typography">
                    <a href="#what-are-promises" id="what-are-promises" style="color: inherit; text-decoration: none;">
                        <h1>What are Promises</h1>
                    </a>
                    <p>Promises represent asynchronous actions that are going to finish processing in the future, or have already finished processing. Whenever the programm encounters a promise, it will finish it's current routine and then process the Promise. This behaviour is called <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop?retiredLocale=el#run-to-completion">run-to-completion</a>.</p>
                    <a href="#dealing-with-promises" id="dealing-with-promises" style="color: inherit; text-decoration: none;">
                        <h1>Dealing with Promises</h1>
                    </a>
                    <p>There are a couple ways to deal with promises in Javascript, the most common two are are shown below. Here the <a href="latest/index.html#fetchPlayer"><code>fetchPlayer()</code></a> function returns a promise which will resolve to a <a href="latest/classes/Player.html"><code>Player</code></a>.</p>
                    <ol>
                        <li>
                            <p>Pause execution until the promise finishes.</p>
                            <pre><code class="language-js"><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-5">1</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">player</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-1">api</span><span class="hl-2">.</span><span class="hl-3">fetchPlayer</span><span class="hl-2">(</span><span class="hl-4">&quot;Salted&quot;</span><span class="hl-2">).</span><span class="hl-3">catch</span><span class="hl-2">(</span><span class="hl-6">function</span><span class="hl-2"> (</span><span class="hl-1">error</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-1">error</span><span class="hl-2">);</span><br/><span class="hl-2">});</span><br/><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-1">player</span><span class="hl-2">.</span><span class="hl-1">name</span><span class="hl-2">);</span><br/><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-5">2</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// Output:</span><br/><span class="hl-0">// 1</span><br/><span class="hl-0">// Salted</span><br/><span class="hl-0">// 2</span></code></pre>
                            <p>This approach will pause the currently executing function until the promise has finished processing. The result is then assigned to the variable <code>player</code>. Other code may be executed while this function awaits the result.</p>
                        </li>
                        <li>
                            <p>Continue in <code>.then()</code> on promise finish</p>
                            <pre><code class="language-js"><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-5">1</span><span class="hl-2">);</span><br/><span class="hl-1">api</span><span class="hl-2">.</span><span class="hl-3">fetchPlayer</span><span class="hl-2">(</span><span class="hl-4">&quot;Salted&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-3">then</span><span class="hl-2">(</span><span class="hl-1">player</span><span class="hl-2"> </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-1">player</span><span class="hl-2">.</span><span class="hl-1">name</span><span class="hl-2">))</span><br/><span class="hl-2">    .</span><span class="hl-3">catch</span><span class="hl-2">(</span><span class="hl-6">function</span><span class="hl-2"> (</span><span class="hl-1">error</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-1">error</span><span class="hl-2">);</span><br/><span class="hl-2">    });</span><br/><span class="hl-1">console</span><span class="hl-2">.</span><span class="hl-3">log</span><span class="hl-2">(</span><span class="hl-5">2</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// Output:</span><br/><span class="hl-0">// 1</span><br/><span class="hl-0">// 2</span><br/><span class="hl-0">// Salted</span></code></pre>
                            <p>This approach will not pause execution, it will continue execution to the end of the function and only after that start fetching the data. Once the data has been fetched, the function passed to the <code>.then()</code> function will be executed.</p>
                        </li>
                    </ol>
                    <a href="#catching-errors" id="catching-errors" style="color: inherit; text-decoration: none;">
                        <h1>Catching Errors</h1>
                    </a>
                    <p>Promises may throw exceptions. Especially APIs using the internet are prone to errors in case of timeouts etc. It is therefore usually necessary to attach a <code>.catch()</code> block to the promise. A catch block acts just like a <code>try { ... } catch (error) { ... }</code> statement, though the latter will not work unless you use <code>await</code>. Catch blocks pass the error as a single parameter to the function inside of them.</p>
                </div>
            </div>
            <div class="col-4 col-menu menu-sticky-wrap menu-highlight">
                <nav class="tsd-navigation primary">
                    <ul>
                        <li class="a"><a href=".">Code Documentation</a></li>
                        <li class="a"><a href="getting_started.html">Getting started</a></li>
                        <li class="a"><a href="configuration.html">Configuration</a></li>
                        <li class="a"><a href="ratelimits.html">Ratelimits and caching</a></li>
                        <li class="current"><a href="working_with_promises.html">Working with Promises</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
    <footer class="with-border-bottom">
        <div class="container">
            <h2>Settings</h2>
            <p>Theme <select id="theme">
                    <option value="os">OS</option>
                    <option value="light">Light</option>
                    <option value="dark">Dark</option>
                </select></p>
        </div>
    </footer>
    <div class="container tsd-generator">
        <p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
    </div>
    <div class="overlay"></div>
    <script src="assets/main.js"></script>
</body>

</html>